<div class="chat-flex" [attr.data-state]="collapsed() ? 'closed' : 'open'">
  <app-sidebar
    [collapsed]="collapsed()"
    [activeId]="activeId()"
    (toggle)="collapsed.set($event)"
    (select)="onSelect($event)"
    (newClick)="onNewChat()"
    (chatModeChange)="onChatModeChange($event)">
  </app-sidebar>

  <main class="chat-content">
    <router-outlet></router-outlet>
  </main>

  @if (showSearchModal()) {
    <app-search-chat (close)="onCloseSearchModal()"></app-search-chat>
  }

  @if (showProfileMenu()) {
    <app-event-options-menu 
      (close)="onCloseProfileMenu()"
      (optionSelected)="onProfileMenuOption($event)">
    </app-event-options-menu>
  }

  @if (showConfigModal()) {
    <app-configuration-modal (close)="onCloseConfigModal()"></app-configuration-modal>
  }
</div>
